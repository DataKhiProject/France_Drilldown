{
    "dataRoles": [{
            "displayName": "Localization",
            "displayNameKey": "localization",
            "name": "category",
            "kind": "Grouping"
        },
        {
            "displayName": "Value",
            "displayNameKey": "Value",
            "name": "measure",
            "kind": "Measure"
        }
    ],

    "drilldown": {
        "roles": [
            "category"
        ]
    },

    "supportsHighlight": true,
    "supportsLandingPage": true,

    "dataViewMappings": [{
        "conditions": [
            { "measure": { "max": 1 }, "category": { "max": 1 } }
        ],
        "categorical": {
            "categories": {
                "for": {
                    "in": "category"
                },
                "dataReductionAlgorithm": {
                    "top": {
                        "count": 30000
                    }
                } 
            },
            "values": {
                "select": [{
                    "bind": {
                        "to": "measure"
                    }
                }],
                "dataReductionAlgorithm": {
                    "top": {
                        "count": 30000
                    }
                } 
            }
        }
    }],
    "objects": {
        "couleur": {
            "displayName": "Color",
            "displayNameKey": "color",
            "properties": {
                "gradientColor": {
                    "displayName": "Gradient Scale",
                    "displayNameKey": "gradientColor",
                    "type": {
                        "bool": true
                    }
                },
                "minColor": {
                    "displayName": "Minimal Color",
                    "displayNameKey": "colorMin",
                    "type": {
                        "fill": {
                            "solid": {
                                "color": true
                            }
                        }
                    }
                },
                "minColorValue": {
                    "displayName": "Minimal Color Value",
                    "displayNameKey": "colorMinVal",
                    "type": {
                        "numeric": true
                    }
                },
                "maxColor": {
                    "displayName": "Maximal Color",
                    "displayNameKey": "ColorMax",
                    "type": {
                        "fill": {
                            "solid": {
                                "color": true
                            }
                        }
                    }
                },
                "maxColorValue": {
                    "displayName": "Maximal Color Value",
                    "displayNameKey": "colorMaxVal",
                    "type": {
                        "numeric": true
                    }
                },
                "divergentColorSwitch": {
                    "displayName": "Divergent Color",
                    "displayNameKey": "DivergentColorSwitch",
                    "type": {
                        "bool": true
                    }
                },
                "middleColor": {
                    "displayName": "Middle Color",
                    "displayNameKey": "ColorMid",
                    "type": {
                        "fill": {
                            "solid": {
                                "color": true
                            }
                        }
                    }
                },
                "middleColorValue": {
                    "displayName": "Middle Color Value",
                    "displayNameKey": "colorMidVal",
                    "type": {
                        "numeric": true
                    }
                },
                "colorRange": {
                    "displayName": "Color Level",
                    "displayNameKey": "colorLevel",
                    "type": {
                        "integer": true
                    }
                }
            }
        },
        "tooltip": {
            "displayName": "Tooltip",
            "displayNameKey": "tooltip",
            "properties": {
                "show": {
                    "displayName": "Display",
                    "displayNameKey": "display",
                    "type": {
                        "bool": true
                    }
                }
            }
        },
        "scale": {
            "displayName": "Color Scale",
            "displayNameKey": "colorScale",
            "properties": {
                "show": {
                    "displayName": "Display",
                    "displayNameKey": "display",
                    "type": {
                        "bool": true
                    }
                },
                "width": {
                    "displayName": "Width",
                    "displayNameKey": "width",
                    "type": {
                        "integer": true
                    }
                },
                "extremum": {
                    "displayName": "Display only extreme value",
                    "displayNameKey": "displayExtremum",
                    "type": {
                        "bool": true
                    }
                },
                "minValue0": {
                    "displayName": "Minimal value at 0",
                    "displayNameKey": "minValue0",
                    "type": {
                        "bool": true
                    }
                }
            }
        },
        "map": {
            "displayName": "Division",
            "displayNameKey": "Division",
            "properties": {
                "level1": {
                    "displayName": "1st Level",
                    "displayNameKey": "level1",
                    "type": {
                        "enumeration": [{
                                "value": "regions",
                                "displayName": "régions"
                            },
                            {
                                "value": "departements",
                                "displayName": "département"
                            },
                            {
                                "value": "arrondissements",
                                "displayName": "arrondissements"
                            }
                        ]
                    }
                },
                "level2": {
                    "displayName": "2nd Level",
                    "displayNameKey": "level2",
                    "type": {
                        "enumeration": [{
                                "value": "departements",
                                "displayName": "département"
                            },
                            {
                                "value": "arrondissements",
                                "displayName": "arrondissements"
                            },
                            {
                                "value": "communes",
                                "displayName": "communes"
                            }
                        ]
                    }
                },
                "level3": {
                    "displayName": "3rd Level",
                    "displayNameKey": "level3",
                    "type": {
                        "enumeration": [{
                                "value": "arrondissements",
                                "displayName": "arrondissements"
                            },
                            {
                                "value": "communes",
                                "displayName": "communes"
                            }
                        ]
                    }
                }
            }
        }
    }
}